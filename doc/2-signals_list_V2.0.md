# Signals List

[TOC]

## 顶层模块 (top.v)

> 负责例化并连接各个模块

### 功能

- 例化各个模块

### 输入

- clk
  - 时钟信号
- rst_n
  - 低电平有效复位信号
- data_in[33:0]
  - 待计算的16个34位输入信号

### 输出

- data_out[33:0]
  - 计算完成的16个34位输出信号

## 控制模块 (ctrl.v)

> 负责控制芯片中的各个模块

### 功能

- 控制各个模块

### 输入

- clk
  - 时钟信号
- rst_n
  - 低电平有效复位信号
- s_p_flag_out
  - 控制reg0向MUX输出数据
- reg0_flag_mux
  - 控制MUX选择来自reg0的数据
- reg1_flag_mux
  - 控制MUX选择来自reg1的数据

### 输出

- mux_flag
  - 控制MUX
- rotation[3:0]
  - 为蝶形运算模块选择旋转因子
- demux_flag
  - 控制DEMUX

## 串转并 (s_p.v)

> 负责将串行输入数据转换为并行数据并提供给运算模块

### 功能

- 缓存16个输入数据，按顺序存入reg0
- 从读入第12个数完成后开始，4个一组倒位序将reg0中数据输出

### 输入

- clk
  - 时钟信号
- rst_n
  - 低电平有效复位信号
- data_in_0[33:0]
  - 待计算的16个34位输入信号

### 输出

- data_out_0[135:0]
  - 输出到运算模块的四个一组的数据
- s_p_flag_out
  - 控制reg0向MUX输出数据
- reg0_flag_mux
  - 控制MUX选择来自reg0的数据

## 并转串 (p_s.v)

> 负责将计算后的并行数据转换为串行数据并依次输出

### 功能

- 从运算模块缓存4个一组结果数据到RAM3并顺序输出

### 输入

- clk
  - 时钟信号
- rst_n
  - 低电平有效复位信号
- data_in_2[135:0]
  - 4个一组的顺序输入数据

### 输出

- data_out_2[33:0]
  - 需要顺序输出的数据

## 运算模块 (butterfly.v)

> 进行两级蝶形运算

### 功能

- 完成两级蝶形运算

### 输入

- rst_n
  - 低电平有效复位信号
- data_in_calc[135:0]
  - 读取的输入数据信号
- rotation[3:0]
  - 选择旋转因子的信号

### 输出

- data_out_calc[135:0]
  - 本级运算结果

## Reg(reg.v)

> 待例化的Reg模块，共例化了3个

### 功能

- 为4个小寄存器组组成的一组寄存器，即34×4×4

### 输入

- clk
  - 时钟信号
- rst_n
  - 低电平有效复位信号
- addr[11:0]
  - 写入/读出的四个信号的地址
- data_in[135:0]
  - 写入的四个数据
- write
  - 写使能信号
- read
  - 读使能信号

### 输出

- data_out[135:0]
  - 读出的四个数据
- (reg1) reg1_flag_mux
  - 控制MUX

## 测试模块 (testbench.v)

### 功能

- 测试Verilog代码是否能正常运行

### 输入

- clk
  - 时钟信号
- rst_n
  - 低电平复位信号
- data_in[33:0] *16
  - 16组测试数据

### 输出

- data_out[33:0] *16
  - 16组测试数据结果


$$
W_{16}^1=cos\frac{\pi}{8}-jsin\frac{\pi}{8}=0.9238-j0.3826\\
W_{16}^2=cos\frac{2\pi}{8}-jsin\frac{2\pi}{8}=0.7071-j0.7071\\
W_{16}^3=cos\frac{3\pi}{8}-jsin\frac{3\pi}{8}=0.3826-j0.9238\\
W_{16}^4=cos\frac{4\pi}{8}-jsin\frac{4\pi}{8}=-j\\
W_{16}^5=cos\frac{5\pi}{8}-jsin\frac{5\pi}{8}=-0.3826-j0.9238\\
W_{16}^6=cos\frac{6\pi}{8}-jsin\frac{6\pi}{8}=-0.7071-j0.7071\\
W_{16}^7=cos\frac{7\pi}{8}-jsin\frac{7\pi}{8}=-0.9238-j0.3826\\
W_{16}^8=cos\pi-jsin\pi=-1\\
W_{16}^9=cos\frac{9\pi}{8}-jsin\frac{9\pi}{8}=-0.9238+j0.3826\\
$$
