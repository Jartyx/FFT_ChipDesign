#@ # 
#@ # Running icc_shell Version D-2010.03-ICC-SP5-2 for amd64 -- Feb 01, 2011
#@ # Date:   %sFri Apr 24 15:26:27 2020
#@ # Run by: student@Student
#@ 

lappend search_path ~/Desktop/Workspace/SMIC18/db ../scripts ../design
set_app_var target_library "slow.db"
set_app_var link_library "* slow.db SP018W_V1p5_max.db"
set_min_library slow.db -min_version fast.db
set_min_library SP018W_V1p5_max.db -min_version SP018W_V1p5_min.db
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# Physical Library settings
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
set mw_path "~/Desktop/Workspace/SMIC18/mw_lib"
set tech_file "~/Desktop/Workspace/SMIC18/tech/smic18_5lm.tf"
set tlup_map "~/Desktop/Workspace/SMIC18/tlup/smic018_5lm_map"
set tlup_max "~/Desktop/Workspace/SMIC18/tlup/smiclog018_5lm_cell_max.tluplus"
set tlup_min "~/Desktop/Workspace/SMIC18/tlup/smiclog018_5lm_cell_min.tluplus"
set verilog_file "../design/fft_chip.v"
set sdc_file "../design/fft_chip.sdc"
create_mw_lib ../fft_chip.mw -open -technology $tech_file -mw_reference_library  "$mw_path/smic18_5ml $mw_path/SP018W_V1p5_5MT"
import_designs $verilog_file -format verilog -top fft_chip
set_tlu_plus_files -max_tluplus $tlup_max -min_tluplus $tlup_min -tech2itf_map  $tlup_map
check_library
check_tlu_plus_files
#@ # GUI Debug: Building dc from empty. -- Time: 2sec 508ms

list_libs
start_gui
source derive_pg.tcl
#@ derive_pg_connection -power_net VDD -power_pin VDD -ground_net VSS -ground_pin VSS
#@ #derive_pg_connection -power_net VDDO -power_pin VDDO -ground_net VSSO -ground_pin VSSO
#@ #derive_pg_connection -power_net VDDQ -power_pin VDDQ -ground_net VSSQ -ground_pin VSSQ
#@ derive_pg_connection -power_net VDD -ground_net VSS -tie
#@ # -- End source derive_pg.tcl

win_set_filter -class cell -filter {cell_array }
win_set_filter -class placement_blockage -filter {wiring } -layer {}
win_set_filter -expand_cell_types {std io hard_macro soft_macro ilm other  }
win_set_select_class        {cell port plan_group edit_group shape via placement_blockage }
check_mv_design -power_nets
#@ # GUI Debug: Building dc for netlist invalid. -- Time: 667ms

read_sdc $sdc_file
#@ define_proc_attributes all_physical_only_cells -info "Get the collection of physical only cells" -define_args {
#@ { -coordinates "coordinates of bounding box" "llx lly urx ury" string {optional}} 
#@ { -lib_cells "get cells related to these objects" "objects" list {optional}} 
#@ { -cell_name "list of cell name patterns and collections" "patterns" list {optional}} 
#@ { "" "Existing collection" "arguments" list {optional}} 
#@ }
#@ define_proc_attributes all_physical_only_nets  -info "Get the collection of physical only nets" -define_args {
#@ { "" "list of cell name patterns and collections" "arguments" list {optional}} 
#@ } 
#@ define_proc_attributes all_drc_violated_nets -info "Returns all DRC violated nets" -define_args { 
#@ { -max_capacitance "max Cap DRC violated nets" "" string {optional}} 
#@ { -max_transition "max transition time DRC violated nets" "" string {optional}} 
#@ { -max_fanout "max fanout DRC violated nets" "" string {optional}}
#@ { -threshold "Captures all values more than or equal to threshold" "threshold" string {optional}} 
#@ { -bound "Captures all values less than or equal to bound bound" "upper" string {optional}} 
#@ { "" "objects patterns OR collection" "arguments"  list {optional}} 
#@ }
#@ define_proc_attributes all_fanin -info "return pins or cells in transitive fanin" -define_args { 
#@ { -to "set of sink ports, pins, or nets" "sink_list" list {optional}} 
#@ { -startpoints_only  "return only the timing startpoints" "" string {optional}} 
#@ { -exclude_bboxes "black-boxes are not included in return-set" "" string {optional}} 
#@ { -break_on_bboxes  "traversal stops at black-boxes" "" string {optional}} 
#@ { -only_cells "only cells are included in the return-set" "" string {optional}} 
#@ { -flat "trace entire design instead of just current hierarchy" "" string {optional}} 
#@ { -levels "maximum number of levels of logic to traverse" "n" string {optional}} 
#@ }
#@ define_proc_attributes all_high_fanout -info "Returns all high fanout objects" -define_args { 
#@ { -nets "high fanout nets" "" string {optional}} 
#@ { -threshold "high fanout threshold: value>=0" "threshold" string {optional}} 
#@ { -through_buf_inv "treat buffers and inverters as transparent -check for transitive fanout" "" string {optional}} 
#@ { "" "objects patterns OR collection" "arguments" string {optional}} 
#@ }
#@ define_proc_attributes all_ideal_nets -info "Returns all ideal nets" -define_args { 
#@ { "" "objects patterns OR collection" "arguments" string {optional}} 
#@ }
#@ define_proc_attributes all_inputs -info "return input ports" -define_args { 
#@ { -clock "ports with input delay relative to clock" "clock" string {optional}} 
#@ { -edge_triggered "ports with non-level-sensitive input delay" "" string {optional}} 
#@ { -level_sensitive "ports with level-sensitive input delay" "" string {optional}} 
#@ }
#@ define_proc_attributes all_outputs -info "return output ports" -define_args { 
#@ { -clock "ports with output delay relative to clock" "clock" string {optional}} 
#@ { -edge_triggered "ports with non-level-sensitive output delay" "" string {optional}} 
#@ { -level_sensitive "ports with level-sensitive output delay" "" string {optional}} 
#@ }
#@ define_proc_attributes all_threestate -info "Returns all threestate objects" -define_args { 
#@ { -nets "threestate nets" "" string {optional}} 
#@ { "" "objects patterns OR collection" "arguments" string {optional}} 
#@ }
#@ define_proc_attributes all_dont_touch -info "Returns all dont touch objects" -define_args { 
#@ { -nets "Dont touch nets" "" string {optional}} 
#@ { -cells "Dont touch cells" "" string {optional}} 
#@ { "" "Dont touch patterns OR collections" "patterns" string {optional}} 
#@ }
#@ define_proc_attributes all_size_only_cells -info "Returns all size_only cells" -define_args { 
#@ { "" "Object patterns OD collections" "patterns" string {optional}} 
#@ }
#@ define_proc_attributes all_clocks -info "return all clocks in the current design"  
#@ define_proc_attributes all_designs -info "return all designs" 
#@ define_proc_attributes all_registers  -info "create a collection of register cells or pins" -define_args { 
#@ { -no_hierarchy "only search the top level of hierarchy" "" string {optional}} 
#@ {-rise_clock "return registers triggered by rise edge of this clock" "rise_clock" string {optional}}
#@ {-fall_clock "return registers triggered by rise edge of this clock" "fall_clock" string {optional}}
#@ { -clock "return registers of this clock" "clock" string {optional}} 
#@ { -cells "return cells - this is the default" "" string {optional}} 
#@ { -data_pins "return data_pins" "" string {optional}} 
#@ { -clock_pins "return clock_pins" "" string {optional}} 
#@ { -slave_clock_pins "return slave_clock_pin" "" string {optional}} 
#@ { -inverted_output "return FF's with inverted output phase" "" string {optional}} 
#@ { -output_pins "return output_pins" "" string {optional}} 
#@ { -level_sensitive "only consider level sensitive registers" "" string {optional}} 
#@ { -edge_triggered "only consider edge triggered register" "" string {optional}} 
#@ { -master_slave "only consider master/slave registers" "" string {optional}} 
#@ }
#@ define_proc_attributes all_critical_cells -info "return critical cells" -define_args { 
#@ { -slack_range "critical range to select cells:value>=0" "range_value" string {optional}} 
#@ }
#@ define_proc_attributes all_critical_pins -info "return critical pins" -define_args { 
#@ { -slack_range "critical range to select cells:value>=0" "range_value" string {optional}} 
#@ { -type "pintype: Values: endpoint, startpoint" "pin_type" string {optional}} 
#@ }
#@ define_proc_attributes get_magnet_cells -info "return magnet cells collection" -define_args {
#@ { -stop_by_sequential_cells "don't pull sequential cells" "" string {optional}} 
#@ { -exclude_buffers "skip through buffers in levels" "" string {optional}} 
#@ { -logical_level "number of logical levels to pull for placement" "integer" string {optional}} 
#@ { -stop_points "list of stop points where to stop magnetizing paths" "object_list" list {optional}} 
#@ { "" "a list of magnet objects" "magnet_objects" list {optional}} 
#@ }
#@ define_proc_attributes all_fanout -info "return pins or cells in transitive fanout" -define_args {
#@ {-clock_tree "return all clock tree components in design" "" string {optional}}
#@ {-from "set of source ports, pins, or nets" "source_list" list {optional}}
#@ {-endpoints_only "return only the timing endpoints" "" string {optional}}
#@ {-exclude_bboxes "black-boxes are not included in return-set" "" string {optional}}
#@ {-break_on_bboxes "traversal stops at black-boxes" "" string {optional}}
#@ {-only_cells "only cells are included in the return-set" "" string {optional}}
#@ {-flat "trace entire design instead of just current hierarchy" "" string {optional}}
#@ {-levels "maximum number of levels of logic to traverse" "n" string {optional}}
#@ }
#@ define_proc_attributes all_physical_only_ports -info " Get the collection of physical only ports" -define_args {
#@ {"" "list of cell name patterns and collections" "arguments" list {optional}}
#@ }
#@ # -- End source /usr/synopsys/ICC-2010.03-SP5-2/auxx/syn/all_command_option_def.tcl

check_timing
report_timing_requirements
report_disable_timing
report_case_analysis
report_clock
report_clock -skew
redirect -tee ../reports/data_setup.timing { report_timing }
source opt_ctrl.tcl
#@ # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#@ # General timing and optimization control settings
#@ # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#@ set_app_var timing_enable_multiple_clocks_per_reg true
#@ set_app_var case_analysis_with_logic_constants true
#@ set_app_var physopt_delete_unloaded_cells false
#@ set_app_var physopt_power_critical_range 1
#@ set_app_var physopt_area_critical_range 1
#@ set_app_var enable_recovery_removal_arcs true
#@ 
#@ # set_false_path from <clock_name> -to <clock_name>
#@ set_fix_multiple_port_nets -all -buffer_constants
#@ set_auto_disable_drc_nets -constant false 
#@ set_timing_derate -max -early 0.95
#@ # set_dont_use <off_limit_cells>
#@ # set_prefer -min <hold_fixing_cells>
#@ set_max_area 0
#@ group_path -name INPUTS -from [all_inputs]
#@ group_path -name OUTPUTS -to [all_outputs]
#@ group_path -name COMBO -from [all_inputs] -to [all_outputs]
#@ set_ideal_network [all_fanout -flat -clock_tree]
#@ # set_cost_priority {max_transistion max_delay}
#@ # -- End source opt_ctrl.tcl

source zic_timing.tcl
#@ set_zero_interconnect_delay_mode true
#@ redirect -tee ../reports/data_setup_zic.timing { report_timing }
#@ set_zero_interconnect_delay_mode false
#@ # -- End source zic_timing.tcl

#exec cat zic.timing
#remove_ideal_network [get_ports scan_en]
save_mw_cel -as 1_datasetup
open_mw_cel 1_datasetup
source run_design_planning.tcl
#@ gui_set_current_task -name {Design Planning}
#@ 
#@ ######################################################################
#@ # Initialize Floorplan
#@ ######################################################################
#@ # Create corners and P/G pads and define all pad cell locations:
#@ source pad_cell_cons.tcl
#@ # Create corners and P/G pads
#@ create_cell {CornerLL CornerLR CornerTR CornerTL} PCORNERW
#@ create_cell {vss1_l vss1_r vss1_t vss1_b} PVSS1W
#@ create_cell {vdd1_l vdd1_r vdd1_t vdd1_b} PVDD1W
#@ create_cell {vss2_l vss2_r vss2_t vss2_b} PVSS2W
#@ create_cell {vdd2_l vdd2_r vdd2_t vdd2_b} PVDD2W
#@ 
#@ # Define corner pad locations
#@ set_pad_physical_constraints -pad_name "CornerTL" -side 1
#@ set_pad_physical_constraints -pad_name "CornerTR" -side 2
#@ set_pad_physical_constraints -pad_name "CornerLR" -side 3
#@ set_pad_physical_constraints -pad_name "CornerLL" -side 4
#@ 
#@ # Define signal and PG pad locations
#@ 
#@ # Left side
#@ set_pad_physical_constraints -pad_name "PIW_din0" -side 1 -order 1
#@ set_pad_physical_constraints -pad_name "PIW_din1" -side 1 -order 2
#@ set_pad_physical_constraints -pad_name "PIW_din2" -side 1 -order 3
#@ set_pad_physical_constraints -pad_name "PIW_din3" -side 1 -order 4
#@ set_pad_physical_constraints -pad_name "PIW_din4" -side 1 -order 5
#@ set_pad_physical_constraints -pad_name "PIW_din5" -side 1 -order 6
#@ set_pad_physical_constraints -pad_name "PIW_din6" -side 1 -order 7
#@ set_pad_physical_constraints -pad_name "PIW_din7" -side 1 -order 8
#@ set_pad_physical_constraints -pad_name "PIW_din8" -side 1 -order 9
#@ set_pad_physical_constraints -pad_name "vdd2_l" -side 1 -order 10
#@ set_pad_physical_constraints -pad_name "vdd1_l" -side 1 -order 11
#@ set_pad_physical_constraints -pad_name "vss1_l" -side 1 -order 12
#@ set_pad_physical_constraints -pad_name "vss2_l" -side 1 -order 13
#@ set_pad_physical_constraints -pad_name "PIW_din9" -side 1 -order 14
#@ set_pad_physical_constraints -pad_name "PIW_din10" -side 1 -order 15
#@ set_pad_physical_constraints -pad_name "PIW_din11" -side 1 -order 16
#@ set_pad_physical_constraints -pad_name "PIW_din12" -side 1 -order 17
#@ set_pad_physical_constraints -pad_name "PIW_din13" -side 1 -order 18
#@ set_pad_physical_constraints -pad_name "PIW_din14" -side 1 -order 19
#@ set_pad_physical_constraints -pad_name "PIW_din15" -side 1 -order 20
#@ set_pad_physical_constraints -pad_name "PIW_din16" -side 1 -order 21
#@ set_pad_physical_constraints -pad_name "PIW_din17" -side 1 -order 22
#@ 
#@ # Top side
#@ set_pad_physical_constraints -pad_name "PIW_din18" -side 2 -order 1
#@ set_pad_physical_constraints -pad_name "PIW_din19" -side 2 -order 2
#@ set_pad_physical_constraints -pad_name "PIW_din20" -side 2 -order 3
#@ set_pad_physical_constraints -pad_name "PIW_din21" -side 2 -order 4
#@ set_pad_physical_constraints -pad_name "PIW_din22" -side 2 -order 5
#@ set_pad_physical_constraints -pad_name "PIW_din23" -side 2 -order 6
#@ set_pad_physical_constraints -pad_name "PIW_din24" -side 2 -order 7
#@ set_pad_physical_constraints -pad_name "PIW_din25" -side 2 -order 8
#@ set_pad_physical_constraints -pad_name "PIW_din26" -side 2 -order 9
#@ set_pad_physical_constraints -pad_name "vdd2_t" -side 2 -order 10
#@ set_pad_physical_constraints -pad_name "vdd1_t" -side 2 -order 11
#@ set_pad_physical_constraints -pad_name "vss1_t" -side 2 -order 12
#@ set_pad_physical_constraints -pad_name "vss2_t" -side 2 -order 13
#@ set_pad_physical_constraints -pad_name "PIW_din27" -side 2 -order 14
#@ set_pad_physical_constraints -pad_name "PIW_din28" -side 2 -order 15
#@ set_pad_physical_constraints -pad_name "PIW_din29" -side 2 -order 16
#@ set_pad_physical_constraints -pad_name "PIW_din30" -side 2 -order 17
#@ set_pad_physical_constraints -pad_name "PIW_din31" -side 2 -order 18
#@ set_pad_physical_constraints -pad_name "PIW_din32" -side 2 -order 19
#@ set_pad_physical_constraints -pad_name "PIW_din33" -side 2 -order 20
#@ set_pad_physical_constraints -pad_name "PIW_clk" -side 2 -order 21
#@ set_pad_physical_constraints -pad_name "PIW_rst_n" -side 2 -order 22
#@ 
#@ # Right side
#@ set_pad_physical_constraints -pad_name "PO8W_dout0" -side 3 -order 1
#@ set_pad_physical_constraints -pad_name "PO8W_dout1" -side 3 -order 2
#@ set_pad_physical_constraints -pad_name "PO8W_dout2" -side 3 -order 3
#@ set_pad_physical_constraints -pad_name "PO8W_dout3" -side 3 -order 4
#@ set_pad_physical_constraints -pad_name "PO8W_dout4" -side 3 -order 5
#@ set_pad_physical_constraints -pad_name "PO8W_dout5" -side 3 -order 6
#@ set_pad_physical_constraints -pad_name "PO8W_dout6" -side 3 -order 7
#@ set_pad_physical_constraints -pad_name "PO8W_dout7" -side 3 -order 8
#@ set_pad_physical_constraints -pad_name "PO8W_dout8" -side 3 -order 9
#@ set_pad_physical_constraints -pad_name "vdd2_r" -side 3 -order 10
#@ set_pad_physical_constraints -pad_name "vdd1_r" -side 3 -order 11
#@ set_pad_physical_constraints -pad_name "vss1_r" -side 3 -order 12
#@ set_pad_physical_constraints -pad_name "vss2_r" -side 3 -order 13
#@ set_pad_physical_constraints -pad_name "PO8W_dout9" -side 3 -order 14
#@ set_pad_physical_constraints -pad_name "PO8W_dout10" -side 3 -order 15
#@ set_pad_physical_constraints -pad_name "PO8W_dout11" -side 3 -order 16
#@ set_pad_physical_constraints -pad_name "PO8W_dout12" -side 3 -order 17
#@ set_pad_physical_constraints -pad_name "PO8W_dout13" -side 3 -order 18
#@ set_pad_physical_constraints -pad_name "PO8W_dout14" -side 3 -order 19
#@ set_pad_physical_constraints -pad_name "PO8W_dout15" -side 3 -order 20
#@ set_pad_physical_constraints -pad_name "PO8W_dout16" -side 3 -order 21
#@ 
#@ # Bottom side
#@ set_pad_physical_constraints -pad_name "PO8W_dout17" -side 4 -order 1
#@ set_pad_physical_constraints -pad_name "PO8W_dout18" -side 4 -order 2
#@ set_pad_physical_constraints -pad_name "PO8W_dout19" -side 4 -order 3
#@ set_pad_physical_constraints -pad_name "PO8W_dout20" -side 4 -order 4
#@ set_pad_physical_constraints -pad_name "PO8W_dout21" -side 4 -order 5
#@ set_pad_physical_constraints -pad_name "PO8W_dout22" -side 4 -order 6
#@ set_pad_physical_constraints -pad_name "PO8W_dout23" -side 4 -order 7
#@ set_pad_physical_constraints -pad_name "PO8W_dout24" -side 4 -order 8
#@ set_pad_physical_constraints -pad_name "PO8W_dout25" -side 4 -order 9
#@ set_pad_physical_constraints -pad_name "vdd2_b" -side 4 -order 10
#@ set_pad_physical_constraints -pad_name "vdd1_b" -side 4 -order 11
#@ set_pad_physical_constraints -pad_name "vss1_b" -side 4 -order 12
#@ set_pad_physical_constraints -pad_name "vss2_b" -side 4 -order 13
#@ set_pad_physical_constraints -pad_name "PO8W_dout26" -side 4 -order 14
#@ set_pad_physical_constraints -pad_name "PO8W_dout27" -side 4 -order 15
#@ set_pad_physical_constraints -pad_name "PO8W_dout28" -side 4 -order 16
#@ set_pad_physical_constraints -pad_name "PO8W_dout29" -side 4 -order 17
#@ set_pad_physical_constraints -pad_name "PO8W_dout30" -side 4 -order 18
#@ set_pad_physical_constraints -pad_name "PO8W_dout31" -side 4 -order 19
#@ set_pad_physical_constraints -pad_name "PO8W_dout32" -side 4 -order 20
#@ set_pad_physical_constraints -pad_name "PO8W_dout33" -side 4 -order 21
#@ 
#@ # -- End source pad_cell_cons.tcl

#@ initialize_floorplan -core_utilization 0.8 -left_io2core 30.0 -bottom_io2core 30.0 -right_io2core 30.0 -top_io2core 30.0
#@ source derive_pg.tcl
#@ derive_pg_connection -power_net VDD -power_pin VDD -ground_net VSS -ground_pin VSS
#@ #derive_pg_connection -power_net VDDO -power_pin VDDO -ground_net VSSO -ground_pin VSSO
#@ #derive_pg_connection -power_net VDDQ -power_pin VDDQ -ground_net VSSQ -ground_pin VSSQ
#@ derive_pg_connection -power_net VDD -ground_net VSS -tie
#@ # -- End source derive_pg.tcl

#@ save_mw_cel -as 2_1_floorplan_init
#@ 
#@ ### Build the power plan structure
#@ source pns.tcl
#@ ### Complete the power grid structure: Ring around individual PLL macro, vertical/horizontal straps, and core ring:
#@ 
#@ set_fp_rail_constraints -add_layer  -layer METAL5 -direction horizontal -max_strap 24 -min_strap 2 -min_width 2 -max_width 4 -spacing 0.6
#@ set_fp_rail_constraints -add_layer  -layer METAL4 -direction vertical -max_strap 24 -min_strap 2 -min_width 2 -max_width 4 -spacing 0.6
#@ set_fp_rail_constraints -set_ring -horizontal_ring_layer { METAL3 } -vertical_ring_layer { METAL2 } -ring_max_width 12 -ring_min_width 10 -extend_strap core_ring
#@ set_fp_rail_constraints -set_global   -no_routing_over_hard_macros
#@ synthesize_fp_rail -nets {VDD VSS} -voltage_supply 1.98 -synthesize_power_plan -power_budget 50 -pad_masters { PVSS1W PVDD1W }
#@ load_fp_rail_map -nets VDD -type IR -min 0.000000 -max 0.000000 -directory ./pna_output

#@ # -- End source pns.tcl

#@ commit_fp_rail
#@ create_power_straps  -direction vertical  -start_at 1876.690 -nets VDD -layer 62 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.310 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction vertical  -start_at 215.690 -nets VDD -layer 62 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.310 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction horizontal  -start_at 215.690 -nets VDD -layer 63 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.690 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction horizontal  -start_at 1876.310 -nets VDD -layer 63 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.690 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction vertical  -start_at 1866.030 -nets VSS -layer 62 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1870.700 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction vertical  -start_at 226.350 -nets VSS -layer 62 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1870.700 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction horizontal  -start_at 226.300 -nets VSS -layer 63 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1871.030 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction horizontal  -start_at 1865.700 -nets VSS -layer 63 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1871.030 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction vertical  -start_at 437.030 -nets VDD  -layer 64 -width 2.000 -pitch_within_group 202.620 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.310 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 639.650 -nets VDD  -layer 64 -width 2.000 -pitch_within_group 202.620 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.310 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 842.270 -nets VDD  -layer 64 -width 2.000 -pitch_within_group 202.620 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.310 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1044.890 -nets VDD  -layer 64 -width 2.000 -pitch_within_group 202.620 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.310 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1247.510 -nets VDD  -layer 64 -width 2.000 -pitch_within_group 202.620 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.310 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1450.130 -nets VDD  -layer 64 -width 2.000 -pitch_within_group 202.620 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.310 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1652.750 -nets VDD  -layer 64 -width 2.000 -pitch_within_group 202.620 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.310 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 439.630 -nets VSS  -layer 64 -width 2.000 -pitch_within_group 202.620 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1870.700 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 642.250 -nets VSS  -layer 64 -width 2.000 -pitch_within_group 202.620 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1870.700 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 844.870 -nets VSS  -layer 64 -width 2.000 -pitch_within_group 202.620 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1870.700 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1047.490 -nets VSS  -layer 64 -width 2.000 -pitch_within_group 202.620 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1870.700 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1250.110 -nets VSS  -layer 64 -width 2.000 -pitch_within_group 202.620 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1870.700 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1452.730 -nets VSS  -layer 64 -width 2.000 -pitch_within_group 202.620 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1870.700 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1655.350 -nets VSS  -layer 64 -width 2.000 -pitch_within_group 202.620 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1870.700 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 436.580 -nets VDD  -layer 65 -width 2.000 -pitch_within_group 202.570 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.690 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 639.880 -nets VDD  -layer 65 -width 2.000 -pitch_within_group 202.570 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.690 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 842.230 -nets VDD  -layer 65 -width 2.000 -pitch_within_group 202.570 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.690 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1044.580 -nets VDD  -layer 65 -width 2.000 -pitch_within_group 202.570 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.690 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1246.930 -nets VDD  -layer 65 -width 2.000 -pitch_within_group 202.570 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.690 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1450.230 -nets VDD  -layer 65 -width 2.000 -pitch_within_group 202.570 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.690 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1652.580 -nets VDD  -layer 65 -width 2.000 -pitch_within_group 202.570 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1881.690 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 439.180 -nets VSS  -layer 65 -width 2.000 -pitch_within_group 202.570 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1871.030 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 642.480 -nets VSS  -layer 65 -width 2.000 -pitch_within_group 202.570 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1871.030 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 844.830 -nets VSS  -layer 65 -width 2.000 -pitch_within_group 202.570 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1871.030 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1047.180 -nets VSS  -layer 65 -width 2.000 -pitch_within_group 202.570 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1871.030 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1249.530 -nets VSS  -layer 65 -width 2.000 -pitch_within_group 202.570 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1871.030 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1452.830 -nets VSS  -layer 65 -width 2.000 -pitch_within_group 202.570 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1871.030 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1655.180 -nets VSS  -layer 65 -width 2.000 -pitch_within_group 202.570 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1871.030 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ preroute_instances
#@ preroute_standard_cells -fill_empty_rows -remove_floating_pieces
#@ analyze_fp_rail -nets {VDD VSS} -voltage_supply 1.98 -pad_masters {PVSS1W PVDD1W}
#@ load_fp_rail_map -nets VDD -type IR -min 0.000000 -max 0.000000 -directory ./pna_output

#@ save_mw_cel -as 2_2_floorplan_pns
#@ 
#@ set_pnet_options -complete "METAL4 METAL5"
#@ create_fp_placement -timing_driven -no_hierarchy_gravity
#@ # GUI Debug: Building dc from empty. -- Time: 524ms

#@ route_zrt_global
#@ 
#@ #Perform timing analysis
#@ redirect -tee ../reports/floorplan.timing { report_timing }
#@ # GUI Debug: Building dc from empty. -- Time: 544ms

#@ save_mw_cel -as 2_3_floorplan_complete
#@ 
#@ remove_placement -object_type standard_cell
#@ write_def -version 5.6 -placed -all_vias -blockages -routed_nets -specialnets -rows_tracks_gcells -output ../outputs/fft_chip.def
#@ # -- End source run_design_planning.tcl

win_set_filter -class cell -filter {core cell_array }
gui_zoom -window [gui_get_current_window -view] -full
win_select_objects -within { 1996.201 923.565 2009.164 1169.849 } -slct_targets global -slct_targets_operation clear
win_select_objects -within { 1973.517 959.211 2009.164 1189.293 } -slct_targets global -slct_targets_operation clear
win_select_objects -within { 110.180 955.971 119.902 1166.609 } -slct_targets global -slct_targets_operation clear
win_select_objects -within { 142.586 1503.630 184.713 1639.734 } -slct_targets global -slct_targets_operation clear
win_select_objects -within { 1992.961 1432.337 1996.201 1626.772 } -slct_targets global -slct_targets_operation clear
win_select_objects -within { 447.201 1963.793 1652.699 2012.402 } -slct_targets global -slct_targets_operation clear
win_select_objects -within { 641.636 -90.739 1860.097 113.418 } -slct_targets global -slct_targets_operation clear
change_selection 
gui_zoom -window [gui_get_current_window -view] -full
gui_zoom -window [gui_get_current_window -view] -full
gui_zoom -window [gui_get_current_window -view] -full
win_select_objects -within { -162.058 2.840 2275.300 1963.747 } -slct_targets global -slct_targets_operation clear
change_selection 
change_working_design_stack {fft_chip.CEL;1}
exit
save_mw_cel  -design "fft_chip.CEL;1"
save_mw_cel  -design "1_datasetup.CEL;1"
