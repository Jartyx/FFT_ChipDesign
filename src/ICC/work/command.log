#@ # 
#@ # Running icc_shell Version D-2010.03-ICC-SP5-2 for amd64 -- Feb 01, 2011
#@ # Date:   %sThu Mar 21 20:19:57 2019
#@ # Run by: student@Student
#@ 

start_gui
source icc.tcl
lappend search_path ~/Desktop/Workspace/SMIC18/db ../scripts ../design
set_app_var target_library "slow.db"
set_app_var link_library "* slow.db SP018W_V1p5_max.db"
set_min_library slow.db -min_version fast.db
set_min_library SP018W_V1p5_max.db -min_version SP018W_V1p5_min.db
set mw_path "~/Desktop/Workspace/SMIC18/mw_lib"
set tech_file "~/Desktop/Workspace/SMIC18/tech/smic18_5lm.tf"
set tlup_map "~/Desktop/Workspace/SMIC18/tlup/smic018_5lm_map"
set tlup_max "~/Desktop/Workspace/SMIC18/tlup/smiclog018_5lm_cell_max.tluplus"
set tlup_min "~/Desktop/Workspace/SMIC18/tlup/smiclog018_5lm_cell_min.tluplus"
set verilog_file "../design/fft_chip.v"
set sdc_file "../design/fft_chip.sdc"
source run_data_setup.tcl
#@ # Script step 1 - Data Setup and Basic Flow
#@ #
#@ exec rm -rf ../fft_chip.mw
#@ #
#@ ############################################################
#@ # Create Milkyway Design Library
#@ ############################################################
#@ create_mw_lib ../fft_chip.mw -open -technology $tech_file -mw_reference_library  "$mw_path/smic18_5ml $mw_path/SP018W_V1p5_5MT"
#@ 
#@ ############################################################
#@ # Load the netlist, constraints and controls.
#@ ############################################################
#@ import_designs $verilog_file -format verilog -top fft_chip
#@ win_set_filter -class cell -filter {cell_array }

#@ win_set_filter -class placement_blockage -filter {wiring } -layer {}

#@ win_set_filter -expand_cell_types {std io hard_macro soft_macro ilm other  }

#@ win_set_select_class        {cell port plan_group edit_group shape via placement_blockage }

#@ 
#@ ############################################################
#@ # Load TLU+ files
#@ ############################################################
#@ set_tlu_plus_files -max_tluplus $tlup_max -min_tluplus $tlup_min -tech2itf_map  $tlup_map
#@ 
#@ check_library
#@ check_tlu_plus_files
#@ # GUI Debug: Building dc from empty. -- Time: 1sec 921ms

#@ list_libs
#@ 
#@ source derive_pg.tcl
#@ derive_pg_connection -power_net VDD -power_pin VDD -ground_net VSS -ground_pin VSS
#@ #derive_pg_connection -power_net VDDO -power_pin VDDO -ground_net VSSO -ground_pin VSSO
#@ #derive_pg_connection -power_net VDDQ -power_pin VDDQ -ground_net VSSQ -ground_pin VSSQ
#@ derive_pg_connection -power_net VDD -ground_net VSS -tie
#@ # -- End source derive_pg.tcl

#@ check_mv_design -power_nets
#@ # GUI Debug: Building dc for netlist invalid. -- Time: 1sec 297ms

#@ 
#@ read_sdc $sdc_file
#@ define_proc_attributes all_physical_only_cells -info "Get the collection of physical only cells" -define_args {
#@ { -coordinates "coordinates of bounding box" "llx lly urx ury" string {optional}} 
#@ { -lib_cells "get cells related to these objects" "objects" list {optional}} 
#@ { -cell_name "list of cell name patterns and collections" "patterns" list {optional}} 
#@ { "" "Existing collection" "arguments" list {optional}} 
#@ }
#@ define_proc_attributes all_physical_only_nets  -info "Get the collection of physical only nets" -define_args {
#@ { "" "list of cell name patterns and collections" "arguments" list {optional}} 
#@ } 
#@ define_proc_attributes all_drc_violated_nets -info "Returns all DRC violated nets" -define_args { 
#@ { -max_capacitance "max Cap DRC violated nets" "" string {optional}} 
#@ { -max_transition "max transition time DRC violated nets" "" string {optional}} 
#@ { -max_fanout "max fanout DRC violated nets" "" string {optional}}
#@ { -threshold "Captures all values more than or equal to threshold" "threshold" string {optional}} 
#@ { -bound "Captures all values less than or equal to bound bound" "upper" string {optional}} 
#@ { "" "objects patterns OR collection" "arguments"  list {optional}} 
#@ }
#@ define_proc_attributes all_fanin -info "return pins or cells in transitive fanin" -define_args { 
#@ { -to "set of sink ports, pins, or nets" "sink_list" list {optional}} 
#@ { -startpoints_only  "return only the timing startpoints" "" string {optional}} 
#@ { -exclude_bboxes "black-boxes are not included in return-set" "" string {optional}} 
#@ { -break_on_bboxes  "traversal stops at black-boxes" "" string {optional}} 
#@ { -only_cells "only cells are included in the return-set" "" string {optional}} 
#@ { -flat "trace entire design instead of just current hierarchy" "" string {optional}} 
#@ { -levels "maximum number of levels of logic to traverse" "n" string {optional}} 
#@ }
#@ define_proc_attributes all_high_fanout -info "Returns all high fanout objects" -define_args { 
#@ { -nets "high fanout nets" "" string {optional}} 
#@ { -threshold "high fanout threshold: value>=0" "threshold" string {optional}} 
#@ { -through_buf_inv "treat buffers and inverters as transparent -check for transitive fanout" "" string {optional}} 
#@ { "" "objects patterns OR collection" "arguments" string {optional}} 
#@ }
#@ define_proc_attributes all_ideal_nets -info "Returns all ideal nets" -define_args { 
#@ { "" "objects patterns OR collection" "arguments" string {optional}} 
#@ }
#@ define_proc_attributes all_inputs -info "return input ports" -define_args { 
#@ { -clock "ports with input delay relative to clock" "clock" string {optional}} 
#@ { -edge_triggered "ports with non-level-sensitive input delay" "" string {optional}} 
#@ { -level_sensitive "ports with level-sensitive input delay" "" string {optional}} 
#@ }
#@ define_proc_attributes all_outputs -info "return output ports" -define_args { 
#@ { -clock "ports with output delay relative to clock" "clock" string {optional}} 
#@ { -edge_triggered "ports with non-level-sensitive output delay" "" string {optional}} 
#@ { -level_sensitive "ports with level-sensitive output delay" "" string {optional}} 
#@ }
#@ define_proc_attributes all_threestate -info "Returns all threestate objects" -define_args { 
#@ { -nets "threestate nets" "" string {optional}} 
#@ { "" "objects patterns OR collection" "arguments" string {optional}} 
#@ }
#@ define_proc_attributes all_dont_touch -info "Returns all dont touch objects" -define_args { 
#@ { -nets "Dont touch nets" "" string {optional}} 
#@ { -cells "Dont touch cells" "" string {optional}} 
#@ { "" "Dont touch patterns OR collections" "patterns" string {optional}} 
#@ }
#@ define_proc_attributes all_size_only_cells -info "Returns all size_only cells" -define_args { 
#@ { "" "Object patterns OD collections" "patterns" string {optional}} 
#@ }
#@ define_proc_attributes all_clocks -info "return all clocks in the current design"  
#@ define_proc_attributes all_designs -info "return all designs" 
#@ define_proc_attributes all_registers  -info "create a collection of register cells or pins" -define_args { 
#@ { -no_hierarchy "only search the top level of hierarchy" "" string {optional}} 
#@ {-rise_clock "return registers triggered by rise edge of this clock" "rise_clock" string {optional}}
#@ {-fall_clock "return registers triggered by rise edge of this clock" "fall_clock" string {optional}}
#@ { -clock "return registers of this clock" "clock" string {optional}} 
#@ { -cells "return cells - this is the default" "" string {optional}} 
#@ { -data_pins "return data_pins" "" string {optional}} 
#@ { -clock_pins "return clock_pins" "" string {optional}} 
#@ { -slave_clock_pins "return slave_clock_pin" "" string {optional}} 
#@ { -inverted_output "return FF's with inverted output phase" "" string {optional}} 
#@ { -output_pins "return output_pins" "" string {optional}} 
#@ { -level_sensitive "only consider level sensitive registers" "" string {optional}} 
#@ { -edge_triggered "only consider edge triggered register" "" string {optional}} 
#@ { -master_slave "only consider master/slave registers" "" string {optional}} 
#@ }
#@ define_proc_attributes all_critical_cells -info "return critical cells" -define_args { 
#@ { -slack_range "critical range to select cells:value>=0" "range_value" string {optional}} 
#@ }
#@ define_proc_attributes all_critical_pins -info "return critical pins" -define_args { 
#@ { -slack_range "critical range to select cells:value>=0" "range_value" string {optional}} 
#@ { -type "pintype: Values: endpoint, startpoint" "pin_type" string {optional}} 
#@ }
#@ define_proc_attributes get_magnet_cells -info "return magnet cells collection" -define_args {
#@ { -stop_by_sequential_cells "don't pull sequential cells" "" string {optional}} 
#@ { -exclude_buffers "skip through buffers in levels" "" string {optional}} 
#@ { -logical_level "number of logical levels to pull for placement" "integer" string {optional}} 
#@ { -stop_points "list of stop points where to stop magnetizing paths" "object_list" list {optional}} 
#@ { "" "a list of magnet objects" "magnet_objects" list {optional}} 
#@ }
#@ define_proc_attributes all_fanout -info "return pins or cells in transitive fanout" -define_args {
#@ {-clock_tree "return all clock tree components in design" "" string {optional}}
#@ {-from "set of source ports, pins, or nets" "source_list" list {optional}}
#@ {-endpoints_only "return only the timing endpoints" "" string {optional}}
#@ {-exclude_bboxes "black-boxes are not included in return-set" "" string {optional}}
#@ {-break_on_bboxes "traversal stops at black-boxes" "" string {optional}}
#@ {-only_cells "only cells are included in the return-set" "" string {optional}}
#@ {-flat "trace entire design instead of just current hierarchy" "" string {optional}}
#@ {-levels "maximum number of levels of logic to traverse" "n" string {optional}}
#@ }
#@ define_proc_attributes all_physical_only_ports -info " Get the collection of physical only ports" -define_args {
#@ {"" "list of cell name patterns and collections" "arguments" list {optional}}
#@ }
#@ # -- End source /usr/synopsys/ICC-2010.03-SP5-2/auxx/syn/all_command_option_def.tcl

#@ check_timing
#@ report_timing_requirements
#@ report_disable_timing
#@ report_case_analysis
#@ report_clock
#@ report_clock -skew
#@ redirect -tee ../reports/data_setup.timing { report_timing }
#@ 
#@ source opt_ctrl.tcl
#@ # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#@ # General timing and optimization control settings
#@ # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#@ set_app_var timing_enable_multiple_clocks_per_reg true
#@ set_app_var case_analysis_with_logic_constants true
#@ set_app_var physopt_delete_unloaded_cells false
#@ set_app_var physopt_power_critical_range 1
#@ set_app_var physopt_area_critical_range 1
#@ set_app_var enable_recovery_removal_arcs true
#@ 
#@ # set_false_path from <clock_name> -to <clock_name>
#@ set_fix_multiple_port_nets -all -buffer_constants
#@ set_auto_disable_drc_nets -constant false 
#@ set_timing_derate -max -early 0.95
#@ # set_dont_use <off_limit_cells>
#@ # set_prefer -min <hold_fixing_cells>
#@ set_max_area 0
#@ group_path -name INPUTS -from [all_inputs]
#@ group_path -name OUTPUTS -to [all_outputs]
#@ group_path -name COMBO -from [all_inputs] -to [all_outputs]
#@ set_ideal_network [all_fanout -flat -clock_tree]
#@ # set_cost_priority {max_transistion max_delay}
#@ # -- End source opt_ctrl.tcl

#@ source zic_timing.tcl
#@ set_zero_interconnect_delay_mode true
#@ redirect -tee ../reports/data_setup_zic.timing { report_timing }
#@ set_zero_interconnect_delay_mode false
#@ # -- End source zic_timing.tcl

#@ #exec cat zic.timing
#@ #remove_ideal_network [get_ports scan_en]
#@ save_mw_cel -as 1_datasetup
#@ # -- End source run_data_setup.tcl

gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
source run_design_planning.tcl
#@ gui_set_current_task -name {Design Planning}
#@ 
#@ ######################################################################
#@ # Initialize Floorplan
#@ ######################################################################
#@ # Create corners and P/G pads and define all pad cell locations:
#@ source pad_cell_cons.tcl
#@ # Create corners and P/G pads
#@ create_cell {CornerLL CornerLR CornerTR CornerTL} PCORNERW
#@ create_cell {vss1_l1 vss1_l2 vss1_r1 vss1_r2 vss1_t vss1_b} PVSS1W
#@ create_cell {vdd1_l1 vdd1_l2 vdd1_r1 vdd1_r2 vdd1_t vdd1_b} PVDD1W
#@ create_cell {vss2_l vss2_r vss2_t vss2_b} PVSS2W
#@ create_cell {vdd2_l vdd2_r vdd2_t vdd2_b} PVDD2W
#@ 
#@ # Define corner pad locations
#@ set_pad_physical_constraints -pad_name "CornerTL" -side 1
#@ set_pad_physical_constraints -pad_name "CornerTR" -side 2
#@ set_pad_physical_constraints -pad_name "CornerLR" -side 3
#@ set_pad_physical_constraints -pad_name "CornerLL" -side 4
#@ 
#@ # Define signal and PG pad locations
#@ 
#@ # Left side
#@ set_pad_physical_constraints -pad_name "PIW_din0" -side 1 -order 1
#@ set_pad_physical_constraints -pad_name "PIW_din1" -side 1 -order 2
#@ set_pad_physical_constraints -pad_name "PIW_din2" -side 1 -order 3
#@ set_pad_physical_constraints -pad_name "PIW_din3" -side 1 -order 4
#@ set_pad_physical_constraints -pad_name "PIW_din4" -side 1 -order 5
#@ set_pad_physical_constraints -pad_name "PIW_din5" -side 1 -order 6
#@ set_pad_physical_constraints -pad_name "PIW_din6" -side 1 -order 7
#@ set_pad_physical_constraints -pad_name "vdd1_l1" -side 1 -order 8
#@ set_pad_physical_constraints -pad_name "vss1_l1" -side 1 -order 9
#@ set_pad_physical_constraints -pad_name "PIW_din7" -side 1 -order 10
#@ set_pad_physical_constraints -pad_name "PIW_din8" -side 1 -order 11
#@ set_pad_physical_constraints -pad_name "vdd2_l" -side 1 -order 12
#@ set_pad_physical_constraints -pad_name "vss2_l" -side 1 -order 13
#@ set_pad_physical_constraints -pad_name "PIW_din9" -side 1 -order 14
#@ set_pad_physical_constraints -pad_name "PIW_din10" -side 1 -order 15
#@ set_pad_physical_constraints -pad_name "vdd1_l2" -side 1 -order 16
#@ set_pad_physical_constraints -pad_name "vss1_l2" -side 1 -order 17
#@ set_pad_physical_constraints -pad_name "PIW_din11" -side 1 -order 18
#@ set_pad_physical_constraints -pad_name "PIW_din12" -side 1 -order 19
#@ set_pad_physical_constraints -pad_name "PIW_din13" -side 1 -order 20
#@ set_pad_physical_constraints -pad_name "PIW_din14" -side 1 -order 21
#@ set_pad_physical_constraints -pad_name "PIW_din15" -side 1 -order 22
#@ set_pad_physical_constraints -pad_name "PIW_din16" -side 1 -order 23
#@ set_pad_physical_constraints -pad_name "PIW_din17" -side 1 -order 24
#@ 
#@ # Top side
#@ set_pad_physical_constraints -pad_name "PIW_din18" -side 2 -order 1
#@ set_pad_physical_constraints -pad_name "PIW_din19" -side 2 -order 2
#@ set_pad_physical_constraints -pad_name "PIW_din20" -side 2 -order 3
#@ set_pad_physical_constraints -pad_name "PIW_din21" -side 2 -order 4
#@ set_pad_physical_constraints -pad_name "PIW_din22" -side 2 -order 5
#@ set_pad_physical_constraints -pad_name "PIW_din23" -side 2 -order 6
#@ set_pad_physical_constraints -pad_name "PIW_din24" -side 2 -order 7
#@ set_pad_physical_constraints -pad_name "PIW_din25" -side 2 -order 8
#@ set_pad_physical_constraints -pad_name "PIW_din26" -side 2 -order 9
#@ set_pad_physical_constraints -pad_name "vdd2_t" -side 2 -order 10
#@ set_pad_physical_constraints -pad_name "vdd1_t" -side 2 -order 11
#@ set_pad_physical_constraints -pad_name "vss1_t" -side 2 -order 12
#@ set_pad_physical_constraints -pad_name "vss2_t" -side 2 -order 13
#@ set_pad_physical_constraints -pad_name "PIW_din27" -side 2 -order 14
#@ set_pad_physical_constraints -pad_name "PIW_din28" -side 2 -order 15
#@ set_pad_physical_constraints -pad_name "PIW_din29" -side 2 -order 16
#@ set_pad_physical_constraints -pad_name "PIW_din30" -side 2 -order 17
#@ set_pad_physical_constraints -pad_name "PIW_din31" -side 2 -order 18
#@ set_pad_physical_constraints -pad_name "PIW_din32" -side 2 -order 19
#@ set_pad_physical_constraints -pad_name "PIW_din33" -side 2 -order 20
#@ set_pad_physical_constraints -pad_name "PIW_clk" -side 2 -order 21
#@ set_pad_physical_constraints -pad_name "PIW_rst_n" -side 2 -order 22
#@ 
#@ # Right side
#@ set_pad_physical_constraints -pad_name "PO8W_dout0" -side 3 -order 1
#@ set_pad_physical_constraints -pad_name "PO8W_dout1" -side 3 -order 2
#@ set_pad_physical_constraints -pad_name "PO8W_dout2" -side 3 -order 3
#@ set_pad_physical_constraints -pad_name "PO8W_dout3" -side 3 -order 4
#@ set_pad_physical_constraints -pad_name "PO8W_dout4" -side 3 -order 5
#@ set_pad_physical_constraints -pad_name "PO8W_dout5" -side 3 -order 6
#@ set_pad_physical_constraints -pad_name "vdd1_r1" -side 3 -order 7
#@ set_pad_physical_constraints -pad_name "vss1_r1" -side 3 -order 8
#@ set_pad_physical_constraints -pad_name "PO8W_dout6" -side 3 -order 9
#@ set_pad_physical_constraints -pad_name "PO8W_dout7" -side 3 -order 10
#@ set_pad_physical_constraints -pad_name "PO8W_dout8" -side 3 -order 11
#@ set_pad_physical_constraints -pad_name "vdd2_r" -side 3 -order 12
#@ set_pad_physical_constraints -pad_name "vss2_r" -side 3 -order 13
#@ set_pad_physical_constraints -pad_name "PO8W_dout9" -side 3 -order 14
#@ set_pad_physical_constraints -pad_name "PO8W_dout10" -side 3 -order 15
#@ set_pad_physical_constraints -pad_name "PO8W_dout11" -side 3 -order 16
#@ set_pad_physical_constraints -pad_name "vdd1_r2" -side 3 -order 17
#@ set_pad_physical_constraints -pad_name "vss1_r2" -side 3 -order 18
#@ set_pad_physical_constraints -pad_name "PO8W_dout12" -side 3 -order 19
#@ set_pad_physical_constraints -pad_name "PO8W_dout13" -side 3 -order 20
#@ set_pad_physical_constraints -pad_name "PO8W_dout14" -side 3 -order 21
#@ set_pad_physical_constraints -pad_name "PO8W_dout15" -side 3 -order 22
#@ set_pad_physical_constraints -pad_name "PO8W_dout16" -side 3 -order 23
#@ 
#@ # Bottom side
#@ set_pad_physical_constraints -pad_name "PO8W_dout17" -side 4 -order 1
#@ set_pad_physical_constraints -pad_name "PO8W_dout18" -side 4 -order 2
#@ set_pad_physical_constraints -pad_name "PO8W_dout19" -side 4 -order 3
#@ set_pad_physical_constraints -pad_name "PO8W_dout20" -side 4 -order 4
#@ set_pad_physical_constraints -pad_name "PO8W_dout21" -side 4 -order 5
#@ set_pad_physical_constraints -pad_name "PO8W_dout22" -side 4 -order 6
#@ set_pad_physical_constraints -pad_name "PO8W_dout23" -side 4 -order 7
#@ set_pad_physical_constraints -pad_name "PO8W_dout24" -side 4 -order 8
#@ set_pad_physical_constraints -pad_name "PO8W_dout25" -side 4 -order 9
#@ set_pad_physical_constraints -pad_name "vdd2_b" -side 4 -order 10
#@ set_pad_physical_constraints -pad_name "vdd1_b" -side 4 -order 11
#@ set_pad_physical_constraints -pad_name "vss1_b" -side 4 -order 12
#@ set_pad_physical_constraints -pad_name "vss2_b" -side 4 -order 13
#@ set_pad_physical_constraints -pad_name "PO8W_dout26" -side 4 -order 14
#@ set_pad_physical_constraints -pad_name "PO8W_dout27" -side 4 -order 15
#@ set_pad_physical_constraints -pad_name "PO8W_dout28" -side 4 -order 16
#@ set_pad_physical_constraints -pad_name "PO8W_dout29" -side 4 -order 17
#@ set_pad_physical_constraints -pad_name "PO8W_dout30" -side 4 -order 18
#@ set_pad_physical_constraints -pad_name "PO8W_dout31" -side 4 -order 19
#@ set_pad_physical_constraints -pad_name "PO8W_dout32" -side 4 -order 20
#@ set_pad_physical_constraints -pad_name "PO8W_dout33" -side 4 -order 21
#@ 
#@ # -- End source pad_cell_cons.tcl

#@ initialize_floorplan -core_utilization 0.8 -left_io2core 30.0 -bottom_io2core 30.0 -right_io2core 30.0 -top_io2core 30.0
#@ source derive_pg.tcl
#@ derive_pg_connection -power_net VDD -power_pin VDD -ground_net VSS -ground_pin VSS
#@ #derive_pg_connection -power_net VDDO -power_pin VDDO -ground_net VSSO -ground_pin VSSO
#@ #derive_pg_connection -power_net VDDQ -power_pin VDDQ -ground_net VSSQ -ground_pin VSSQ
#@ derive_pg_connection -power_net VDD -ground_net VSS -tie
#@ # -- End source derive_pg.tcl

#@ save_mw_cel -as 2_1_floorplan_init
#@ 
#@ ### Build the power plan structure
#@ source pns.tcl
#@ ### Complete the power grid structure: Ring around individual PLL macro, vertical/horizontal straps, and core ring:
#@ 
#@ set_fp_rail_constraints -add_layer  -layer METAL5 -direction horizontal -max_strap 24 -min_strap 2 -min_width 2 -max_width 4 -spacing 0.6
#@ set_fp_rail_constraints -add_layer  -layer METAL4 -direction vertical -max_strap 24 -min_strap 2 -min_width 2 -max_width 4 -spacing 0.6
#@ set_fp_rail_constraints -set_ring -horizontal_ring_layer { METAL3 } -vertical_ring_layer { METAL2 } -ring_max_width 12 -ring_min_width 10 -extend_strap core_ring
#@ set_fp_rail_constraints -set_global   -no_routing_over_hard_macros
#@ synthesize_fp_rail -nets {VDD VSS} -voltage_supply 1.98 -synthesize_power_plan -power_budget 50 -pad_masters { PVSS1W PVDD1W }
#@ load_fp_rail_map -nets VDD -type IR -min 0.000000 -max 0.000000 -directory ./pna_output

#@ # -- End source pns.tcl

#@ commit_fp_rail
#@ create_power_straps  -direction vertical  -start_at 1952.590 -nets VDD -layer 62 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.710 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction vertical  -start_at 215.690 -nets VDD -layer 62 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.710 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction horizontal  -start_at 215.690 -nets VDD -layer 63 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.590 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction horizontal  -start_at 1952.710 -nets VDD -layer 63 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.590 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction vertical  -start_at 1941.930 -nets VSS -layer 62 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1947.100 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction vertical  -start_at 226.350 -nets VSS -layer 62 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1947.100 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction horizontal  -start_at 226.300 -nets VSS -layer 63 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1946.930 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction horizontal  -start_at 1942.100 -nets VSS -layer 63 -width 10.000 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1946.930 -extend_low_ends off -extend_high_ends off -keep_floating_wire_pieces -ignore_parallel_targets -define_parallel_targets_by_wire_directions -mark_as_ring

#@ create_power_straps  -direction vertical  -start_at 446.270 -nets VDD  -layer 64 -width 2.000 -pitch_within_group 212.110 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.710 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 658.790 -nets VDD  -layer 64 -width 2.000 -pitch_within_group 212.110 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.710 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 870.650 -nets VDD  -layer 64 -width 2.000 -pitch_within_group 212.110 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.710 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1082.510 -nets VDD  -layer 64 -width 2.000 -pitch_within_group 212.110 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.710 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1295.030 -nets VDD  -layer 64 -width 2.000 -pitch_within_group 212.110 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.710 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1506.890 -nets VDD  -layer 64 -width 2.000 -pitch_within_group 212.110 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.710 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1719.410 -nets VDD  -layer 64 -width 2.000 -pitch_within_group 212.110 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.710 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 448.870 -nets VSS  -layer 64 -width 2.000 -pitch_within_group 212.110 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1947.100 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 661.390 -nets VSS  -layer 64 -width 2.000 -pitch_within_group 212.110 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1947.100 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 873.250 -nets VSS  -layer 64 -width 2.000 -pitch_within_group 212.110 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1947.100 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1085.110 -nets VSS  -layer 64 -width 2.000 -pitch_within_group 212.110 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1947.100 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1297.630 -nets VSS  -layer 64 -width 2.000 -pitch_within_group 212.110 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1947.100 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1509.490 -nets VSS  -layer 64 -width 2.000 -pitch_within_group 212.110 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1947.100 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction vertical  -start_at 1722.010 -nets VSS  -layer 64 -width 2.000 -pitch_within_group 212.110 -start_low_ends coordinate  -start_low_ends_coordinate 221.300 -start_high_ends coordinate  -start_high_ends_coordinate 1947.100 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 446.080 -nets VDD  -layer 65 -width 2.000 -pitch_within_group 212.120 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.590 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 658.880 -nets VDD  -layer 65 -width 2.000 -pitch_within_group 212.120 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.590 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 870.730 -nets VDD  -layer 65 -width 2.000 -pitch_within_group 212.120 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.590 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1082.580 -nets VDD  -layer 65 -width 2.000 -pitch_within_group 212.120 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.590 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1295.380 -nets VDD  -layer 65 -width 2.000 -pitch_within_group 212.120 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.590 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1507.230 -nets VDD  -layer 65 -width 2.000 -pitch_within_group 212.120 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.590 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1719.080 -nets VDD  -layer 65 -width 2.000 -pitch_within_group 212.120 -start_low_ends coordinate  -start_low_ends_coordinate 210.690 -start_high_ends coordinate  -start_high_ends_coordinate 1957.590 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 448.680 -nets VSS  -layer 65 -width 2.000 -pitch_within_group 212.120 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1946.930 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 661.480 -nets VSS  -layer 65 -width 2.000 -pitch_within_group 212.120 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1946.930 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 873.330 -nets VSS  -layer 65 -width 2.000 -pitch_within_group 212.120 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1946.930 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1085.180 -nets VSS  -layer 65 -width 2.000 -pitch_within_group 212.120 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1946.930 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1297.980 -nets VSS  -layer 65 -width 2.000 -pitch_within_group 212.120 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1946.930 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1509.830 -nets VSS  -layer 65 -width 2.000 -pitch_within_group 212.120 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1946.930 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ create_power_straps  -direction horizontal  -start_at 1721.680 -nets VSS  -layer 65 -width 2.000 -pitch_within_group 212.120 -start_low_ends coordinate  -start_low_ends_coordinate 221.350 -start_high_ends coordinate  -start_high_ends_coordinate 1946.930 -extend_low_ends off -extend_high_ends off -num_placement_strap 1 -keep_floating_wire_pieces  -ignore_parallel_targets -define_parallel_targets_by_wire_directions 

#@ preroute_instances
#@ preroute_standard_cells -fill_empty_rows -remove_floating_pieces
#@ analyze_fp_rail -nets {VDD VSS} -voltage_supply 1.98 -pad_masters {PVSS1W PVDD1W}
#@ load_fp_rail_map -nets VDD -type IR -min 0.000000 -max 0.000000 -directory ./pna_output

#@ save_mw_cel -as 2_2_floorplan_pns
#@ 
#@ set_pnet_options -complete "METAL4 METAL5"
#@ create_fp_placement -timing_driven -no_hierarchy_gravity
#@ # GUI Debug: Building dc from empty. -- Time: 861ms

#@ route_zrt_global
#@ 
#@ #Perform timing analysis
#@ redirect -tee ../reports/floorplan.timing { report_timing }
#@ # GUI Debug: Building dc from empty. -- Time: 1sec 6ms

#@ save_mw_cel -as 2_3_floorplan_complete
#@ 
#@ remove_placement -object_type standard_cell
#@ write_def -version 5.6 -placed -all_vias -blockages -routed_nets -specialnets -rows_tracks_gcells -output ../outputs/fft_chip.def
#@ # -- End source run_design_planning.tcl

win_set_filter -class cell -filter {core cell_array }
win_select_objects -slct_targets global -at {133.663 69.251} -radius 1.378
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
change_selection 
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_zoom -window [gui_get_current_window -view] -full
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
win_select_objects -slct_targets global -at {2160.240 1459.293} -radius 15.107
win_select_objects -slct_targets global -at {2130.027 1335.419} -radius 15.107
win_select_objects -slct_targets global -at {2133.048 1217.588} -radius 15.107
win_select_objects -slct_targets global -at {2114.920 1030.267} -radius 15.107
win_select_objects -slct_targets global -at {2105.856 888.265} -radius 15.107
win_select_objects -slct_targets global -at {2105.856 888.265} -radius 15.107
win_select_objects -slct_targets global -at {2105.856 731.156} -radius 15.107
win_select_objects -slct_targets global -at {2102.835 1471.378} -radius 15.107
win_select_objects -slct_targets global -at {2154.197 1540.869} -radius 15.107
source run_placement.tcl
#@ # IC Compiler run script for idct_floorplan_complete
#@ report_ignored_layers
#@ report_pnet_options
#@ source ndr.tcl
#@ define_routing_rule  CLOCK_DOUBLE_SPACING 	-spacings {METAL3 0.42 METAL4 0.63 METAL5 0.82}
#@ 
#@ set_clock_tree_options -routing_rule CLOCK_DOUBLE_SPACING 	-layer_list {METAL3 METAL5} -use_default_routing_for_sinks 1
#@ 
#@ # -- End source ndr.tcl

#@ check_physical_design -stage pre_place_opt
#@ source -encrypted /usr/synopsys/ICC-2010.03-SP5-2/auxx/syn/psyn/analyze_physical_design.tcl.e

#@ analyze_physical_design_internal {pre_place_opt} {} 1 1 {} {} {0}

#@ check_physical_constraints
#@ save_mw_cel -as 3_1_place_setup
#@ 
#@ place_opt
#@ redirect -tee ../reports/placement.timing { report_timing }
#@ report_design -physical
#@ report_qor
#@ report_power
#@ save_mw_cel -as 3_2_place_complete
#@ # -- End source run_placement.tcl

change_selection 
gui_zoom -window [gui_get_current_window -view] -full
win_select_objects -slct_targets global -at {579.454 1071.798} -radius 31.153
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
source run_cts.tcl
#@ #######################
#@ # Examine Clock Tree  #
#@ #######################
#@ report_clock -skew -attributes
#@ report_clock_tree -summary
#@ report_constraint -all
#@ 
#@ #######################################
#@ # Preparing for Clock Tree Synthesis  #
#@ #######################################
#@ set_clock_tree_options -target_skew 0.3
#@ set_clock_uncertainty 0.2 [all_clocks]
#@ #source ndr.tcl
#@ report_clock_tree -settings
#@ check_physical_design -stage pre_clock_opt -display
#@ source -encrypted /usr/synopsys/ICC-2010.03-SP5-2/auxx/syn/psyn/analyze_physical_design.tcl.e

#@ analyze_physical_design_internal {pre_clock_opt} {} 1 1 {} {} {1}

#@ set_delay_calculation -clock_arnoldi
#@ check_clock_tree
#@ 
#@ #################################
#@ # Perform Clock Tree Synthesis  #
#@ #################################
#@ clock_opt -only_cts -no_clock_route -update_clock_latency
#@ report_clock_tree -summary
#@ report_clock_timing -type skew -significant_digits 3
#@ report_constraint -all
#@ redirect -tee ../reports/cts_only_cts.timing { report_timing }
#@ save_mw_cel -as 4_1_clock_cts
#@ 
#@ ###################################
#@ # Perform Hold Time Optimization  #
#@ ###################################
#@ set_fix_hold [all_clocks]
#@ extract_rc 
#@ clock_opt -only_psyn -no_clock_route 
#@ redirect -tee ../reports/cts_only_psyn.timing { report_timing }
#@ report_qor
#@ report_constraint -all
#@ save_mw_cel -as 4_2_clock_psyn
#@ 
#@ #####################
#@ # Route the Clocks  #
#@ #####################
#@ route_zrt_group -all_clock_nets
#@ report_constraint -all
#@ save_mw_cel -as 4_3_clock_route
#@ report_design -physical
#@ # -- End source run_cts.tcl

gui_scroll -window [gui_get_current_window -view] -hrel -0.25
gui_scroll -window [gui_get_current_window -view] -hrel -0.25
gui_scroll -window [gui_get_current_window -view] -hrel -0.25
gui_scroll -window [gui_get_current_window -view] -hrel -0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel 0.25
gui_scroll -window [gui_get_current_window -view] -hrel -0.25
gui_scroll -window [gui_get_current_window -view] -hrel -0.25
gui_scroll -window [gui_get_current_window -view] -hrel -0.25
gui_scroll -window [gui_get_current_window -view] -hrel -0.25
gui_scroll -window [gui_get_current_window -view] -hrel -0.25
gui_scroll -window [gui_get_current_window -view] -hrel -0.25
gui_scroll -window [gui_get_current_window -view] -hrel -0.25
source run_route.tcl
#@ source common_optimization_settings_icc.tcl
#@ ##########################################################################################
#@ # Version: C-2009.06 (Jun 29th, 2009)
#@ # Copyright (C) 2007-2009 Synopsys, Inc. All rights reserved.
#@ ##########################################################################################
#@ 
#@ echo "\tLoading :\t [info script]"
#@ ## Optimization Common Session Options - set in all sessions
#@ 
#@ # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#@ # General Optimization
#@ # enable the recovery and removal timing checks 
#@ # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#@ 
#@ set_app_var enable_recovery_removal_arcs true
#@ set_app_var timing_enable_multiple_clocks_per_reg true 
#@ set_app_var case_analysis_with_logic_constants true 
#@ set_fix_multiple_port_nets -all -buffer_constants  
#@ set_auto_disable_drc_nets -constant false 
#@ set_timing_derate -max -early 0.95
#@ # set_dont_use <off_limit_cells>
#@ # set_prefer -min <hold_fixing_cells>
#@ set_max_area 0
#@ group_path -name INPUTS -from [all_inputs]
#@ group_path -name OUTPUTS -to [all_outputs]
#@ group_path -name COMBO -from [all_inputs] -to [all_outputs]
#@ # set_ideal_network [all_fanout -flat -clock_tree]
#@ # set_cost_priority {max_transistion max_delay}
#@ 
#@ # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#@ ## Fix the locations of the hard macros
#@ # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#@ if {[all_macro_cells] != "" } { 
#@   set_dont_touch_placement [all_macro_cells]  
#@ } 
#@ 
#@ # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#@ # Timing and optimization control variable settings
#@ # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#@ set_app_var physopt_delete_unloaded_cells false
#@ set_app_var physopt_power_critical_range 0.5
#@ set_app_var physopt_area_critical_range 0.5
#@ set_app_var enable_recovery_removal_arcs true
#@ 
#@ ## Turn on leakage 
#@ set_power_options -leakage true
#@ ## Dynamic power opto throughout the flow
#@ set_power_options -dynamic false -low_power_placement false
#@ 
#@ set_operating_conditions         -max slow         -max_library slow         -min fast         -min_library fast
#@ 
#@ ## End of Common Optimization Session Options
#@ # -- End source common_optimization_settings_icc.tcl

#@ source common_placement_settings.tcl
#@ ##########################################################################################
#@ # Version: C-2009.06 (Jun 29th, 2009)
#@ # Copyright (C) 2007-2009 Synopsys, Inc. All rights reserved.
#@ ##########################################################################################
#@ 
#@ 
#@ echo "\tLoading :\t [info script]"
#@ 
#@ # Placement Common Session Options - set in all sessions
#@ 
#@ ## Set Min/Max Routing Layers
#@ #if { $MAX_ROUTING_LAYER != ""} {set_ignored_layers -max_routing_layer $MAX_ROUTING_LAYER}
#@ #if { $MIN_ROUTING_LAYER != ""} {set_ignored_layers -min_routing_layer $MIN_ROUTING_LAYER}
#@ 
#@ # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#@ # Placement keepout variable settings
#@ # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#@ set_app_var physopt_hard_keepout_distance 5
#@ set_app_var placer_soft_keepout_channel_width 15
#@ 
#@ ## Set PNET Options to control cel placement around P/G straps 
#@ remove_pnet_options
#@ set_pnet_options -partial {METAL2 METAL3 METAL4}
#@ report_pnet_options
#@ 
#@ ## Improved congestion analysis by using Global Route info 
#@ # echo "SCRIPT-Info : Enabling Global Gouter during placement"
#@ # set_app_var placer_enable_enhanced_router true 
#@ 
#@ ## it is recommended to use the default of the tool
#@ ## in case it needs to change ( e.g. for low utlization designs), use the command below :
#@ # set_congestion_options -max_util 0.85
#@ # -- End source common_placement_settings.tcl

#@ source common_post_cts_timing_settings.tcl
#@ ##########################################################################################
#@ # Version: C-2009.06 (Jun 29th, 2009)
#@ # Copyright (C) 2007-2009 Synopsys, Inc. All rights reserved.
#@ ##########################################################################################
#@ 
#@ 
#@ echo "\tLoading :\t\t [info script]"
#@ 
#@ 
#@ ## Enabling CRPR - CRPR is usually used with timing derate (bc_wc) and with OCV
#@ set_app_var timing_remove_clock_reconvergence_pessimism true 
#@ 
#@ 
#@ 
#@ ## Set Area Critical Range
#@ ## Typical value: 5 percent of critical clock period
#@ #if {$AREA_CRITICAL_RANGE_POST_CTS != ""} {set_app_var physopt_area_critical_range $AREA_CRITICAL_RANGE_POST_CTS}
#@ 
#@ 
#@ ## Set Power Critical Range
#@ ## Typical value: 5 percent of critical clock period
#@ #if {$POWER_CRITICAL_RANGE_POST_CTS != ""} {set_app_var physopt_power_critical_range $POWER_CRITICAL_RANGE_POST_CTS}
#@ 
#@ 
#@ ## Hold fixing cells
#@ #if { $ICC_FIX_HOLD_PREFER_CELLS != ""} {
#@ #    remove_attribute $ICC_FIX_HOLD_PREFER_CELLS dont_use
#@ #    remove_attribute $ICC_FIX_HOLD_PREFER_CELLS dont_touch
#@ #    set_prefer -min $ICC_FIX_HOLD_PREFER_CELLS
#@ #}
#@ 
#@ # -- End source common_post_cts_timing_settings.tcl

#@ source common_route_si_settings_zrt_icc.tcl
#@ ##########################################################################################
#@ # Version: C-2009.06 (Jun 29th, 2009)
#@ # Copyright (C) 2007-2009 Synopsys, Inc. All rights reserved.
#@ ##########################################################################################
#@ 
#@ echo "\tLoading :\t\t [info script]"
#@ 
#@ #########################################
#@ #           TIMING OPTIONS              #
#@ #########################################
#@ 
#@ ## By default, Xtalk Delta Delay is enabled for all flows
#@ set_si_options -delta_delay true                 -route_xtalk_prevention true                -route_xtalk_prevention_threshold 0.25
#@ 
#@ ## For the QoR flow, we also enable min_delta_delay
#@ set_si_options -min_delta_delay true 
#@ 
#@ #########################################
#@ #    MAX_TRAN FIXING                    #
#@ #########################################
#@ ## From 2006.06-SP4 onwards, route_opt will NOT fix nor report Delta Max 
#@ ## Tran violations.  Hence all max_tran violations exclude the portion 
#@ ## that is introduced by Xtalk.
#@ ## If you want to change this behavior, and fix max_transition violations 
#@ ## including these caused by Xtalk, please use the switch -max_transition_mode
#@ ## in set_si_options. Keep in mind that you can expect a runtime hit of up 
#@ ## to 2x in DRC fixing during route_opt.
#@ 
#@ # set_si_options -delta_delay true #                -route_xtalk_prevention true #                -route_xtalk_prevention_threshold 0.25 #                -max_transition_mode total_slew
#@ 
#@ #########################################
#@ #      ADVANCED TIMING FEATURES         #
#@ #########################################
#@ 
#@ ## if static noise (aka glitches) needs to be reduced, please use the extra options below :
#@ # set_si_options -delta_delay true #                -static_noise true #                -static_noise_threshold_above_low 0.35 #                -static_noise_threshold_below_high 0.35 #                -route_xtalk_prevention true #                -route_xtalk_prevention_threshold 0.25
#@ 
#@ 
#@ set_delay_calculation -arnoldi
#@ set ICC_FULL_ARNOLDI FALSE 
#@ if {$ICC_FULL_ARNOLDI} { 
#@     echo "SCRIPT-Info : Enabling Arnoldi for all nets of the design"
#@     set rc_rd_more_than_rnet_arnoldi_threshold 100000000
#@ } 
#@ 
#@ ## if you want to enable Timing Windows during XDD calculation, please use :
#@ #  set_si_options -timing_window true
#@ 
#@ ########################################
#@ #          ZROUTE OPTIONS              #
#@ ########################################
#@ 
#@ #### MultiThreading - extraction, MCMM timing, ZRoute
#@ set ICC_NUM_CORES 1
#@ set_host_options -max_cores $ICC_NUM_CORES
#@ 
#@ ## Zroute Global route options
#@ # set_route_zrt_global_options 
#@ 
#@ ## Zroute Track assign options
#@ # set_route_zrt_track_options 
#@ 
#@ ## Zroute Detail route options
#@ # set_route_zrt_detail_options
#@ 
#@ ## Set Area Critical Range
#@ ## Typical value: 3-4 percent of critical clock period
#@ #set_app_var physopt_area_critical_range 0.32 
#@ 
#@ ## Set Power Critical Range
#@ ## Typical value: 3-4 percent of critical clock period
#@ #set_app_var physopt_power_critical_range 0.32
#@ 
#@ ########################################
#@ #       ROUTE_OPT ONLY OPTIONS         #
#@ ########################################
#@ 
#@ ## Disable fanout opto during route_opt. Max fanout has to be taken care of earlier in the flow.
#@ set_app_var psyn_onroute_disable_fanout_drc true
#@ 
#@ ##default is false - set to skip second report_qor in route_opt
#@ set_app_var routeopt_skip_report_qor true  
#@ 
#@ # set_app_var routeopt_xtalk_reduction_setup_threshold 0.10
#@ 
#@ set ICC_DBL_VIA TRUE
#@ set ICC_DBL_VIA_FLOW_EFFORT "LOW"
#@ if {$ICC_DBL_VIA } {
#@   define_zrt_redundant_vias -from_via { VIA12A VIA12B VIA23 VIA34 VIA45 VIA56 }         -to_via { VIA12A VIA12B VIA23 VIA34 VIA45 VIA56 }         -to_via_x_size { 1 1 1 1 1 1 }        -to_via_y_size { 2 2 2 2 2 2 }
#@ 
#@   if {$ICC_DBL_VIA_FLOW_EFFORT != "LOW"} {
#@     set_route_zrt_detail_options -optimize_wire_via_effort_level high    ;#low is default
#@     set_route_zrt_common_options -concurrent_redundant_via_mode reserve_space
#@   }
#@   if {$ICC_DBL_VIA_FLOW_EFFORT == "HIGH"} {
#@     #low is default: low|medium|high
#@     set_route_zrt_common_options -concurrent_redundant_via_effort_level medium   
#@     #set_route_zrt_common_options -eco_route_concurrent_redundant_via_mode reserve_space
#@     #low is default: low|medium|high
#@     #set_route_zrt_common_options -eco_route_concurrent_redundant_via_effort_level low  
#@   }
#@ }
#@ 
#@ set ICC_FIX_ANTENNA 0
#@ set ANTENNA_RULES_FILE ""
#@ 
#@ if {$ICC_FIX_ANTENNA } {
#@ 
#@   ########################################
#@   #        ANTENNA JOGGING FIXING        #
#@   ########################################
#@  
#@   if {[file exists [which $ANTENNA_RULES_FILE]]} {
#@        set_route_zrt_detail_options -antenna true
#@        source -echo $ANTENNA_RULES_FILE
#@    } else {
#@        echo "SCRIPT-Info : Antenna rules file does not exist"
#@        echo "SCRIPT-Info : Turning off antenna fixing"
#@        set_route_zrt_detail_options -antenna false
#@    }
#@ 
#@ } else {
#@        echo "SCRIPT-Info : Turning off antenna fixing"
#@        set_route_zrt_detail_options -antenna false
#@   }
#@ 
#@ # -- End source common_route_si_settings_zrt_icc.tcl

#@ 
#@ report_constraint -all
#@ all_ideal_nets
#@ all_high_fanout -nets -threshold 501
#@ report_preferred_routing_direction
#@ report_tlu_plus_files
#@ check_legality
#@ verify_pg_nets
#@ 
#@ set_route_zrt_common_options -post_detail_route_redundant_via_insertion medium
#@ set_route_zrt_detail_options -optimize_wire_via_effort_level medium
#@ 
#@ report_routing_rules; # report routing rules
#@ report_route_opt_strategy; # report route_opt_stretegy
#@ report_route_zrt_common_options; # Reports zrt common route options
#@ report_route_zrt_global_options; # Reports zrt global route options
#@ report_route_zrt_track_options; # Reports zrt route track assignment options
#@ report_route_zrt_detail_options; # Reports zrt detail route options
#@ 
#@ route_opt -initial_route_only
#@ redirect -tee ../reports/route_initial.timing { report_timing }
#@ report_clock_tree -summary
#@ report_clock_timing -type skew
#@ report_qor
#@ report_constraint -all
#@ 
#@ route_opt -skip_initial_route  -power
#@ redirect -tee ../reports/route_power.timing { report_timing }
#@ source derive_pg.tcl
#@ derive_pg_connection -power_net VDD -power_pin VDD -ground_net VSS -ground_pin VSS
#@ #derive_pg_connection -power_net VDDO -power_pin VDDO -ground_net VSSO -ground_pin VSSO
#@ #derive_pg_connection -power_net VDDQ -power_pin VDDQ -ground_net VSSQ -ground_pin VSSQ
#@ derive_pg_connection -power_net VDD -ground_net VSS -tie
#@ # -- End source derive_pg.tcl

#@ verify_zrt_route  #DRC: Check whether there are any physical design rule violations
#@ verify_lvs  #LVS: isolate opens and shorts
#@ route_opt -incremental  #run incremental route_opt to see if that will fix the errors.
#@ route_zrt_eco
#@ # GUI Debug: Building dc for netlist invalid. -- Time: 3sec 3ms

#@ report_design_physical -route
#@ save_mw_cel -as 5_route_final
#@ 
#@ #exit
#@ # -- End source run_route.tcl

source run_finishing.tcl
#@ # Check for DRC violations
#@ verify_zrt_route
#@ 
#@ # Check for LVS violations
#@ verify_lvs 
#@ gui_set_error_browser_option -show_mode all

#@ gui_set_error_browser_option -view_mode zoom

#@ gui_set_error_browser_option -zoom_factor 1.000000

#@ 
#@ # Check for constraint violations
#@ report_constraints -all
#@ 
#@ ########################################
#@ #      CRITICAL AREA REDUCTION         #
#@ ########################################
#@ 
#@ report_critical_area -fault_type short
#@ sh mv output_heatmap ../reports/cca.short.before.rpt
#@ spread_zrt_wires
#@ report_critical_area -fault_type short
#@ sh mv output_heatmap ../reports/cca.short.after.rpt
#@ 
#@ report_critical_area -fault_type open
#@ sh mv output_heatmap ../reports/cca.open.before.rpt
#@ widen_zrt_wires
#@ report_critical_area -fault_type open
#@ sh mv output_heatmap ../reports/cca.open.after.rpt
#@ 
#@ verify_zrt_route
#@ verify_lvs
#@ rc
#@ 
#@ save_mw_cel -as 6_1_chip_finish_critical_area
#@ 
#@ ##############################################
#@ # FIXING ANTENNA RULE VIOLATIONS WITH DIODES  #
#@ ##############################################
#@ 
#@ #source -echo scripts/cb13_6m_antenna.tcl
#@ 
#@ #report_antenna_rules	
#@ #verify_zrt_route
#@ 
#@ #set_route_zrt_detail_options -insert_diodes_during_routing true
#@ #route_zrt_detail -incremental true
#@ 
#@ #verify_lvs
#@ 
#@ #derive_pg_connection -power_net VDD -power_pin VDD -ground_net VSS -ground_pin VSS 
#@ #derive_pg_connection -power_net VDD -ground_net VSS -tie
#@ 
#@ #verify_zrt_route
#@ #verify_lvs
#@ #rc
#@ 
#@ #If there were any timing or logical DRC violations use below commands
#@ #route_opt incremental
#@ #derive_pg_connection -power_net VDD -power_pin VDD #                     -ground_net VSS -ground_pin VSS
#@ #derive_pg_connection -power_net VDD #                     -ground_net VSS -tie
#@ #verify_zrt_route
#@ #verify_lvs
#@ #rc 
#@ 
#@ #save_mw_cel -as chip_finish_antenna
#@ 
#@ ########################################
#@ # INSERT STANDARD CELL FILLERS         #
#@ ########################################
#@ 
#@ insert_stdcell_filler -cell_with_metal "FILL64 FILL32 FILL16 FILL8 FILL4 FILL2 FILL1" -connect_to_power VDD -connect_to_ground VSS -between_std_cells_only
#@ 
#@ verify_zrt_route
#@ verify_lvs
#@ rc
#@ 
#@ ########################################
#@ # INSERT REDUNDANT VIAS                #
#@ ########################################
#@ 
#@ report_design_physical -route
#@ insert_zrt_redundant_vias -list_only
#@ insert_zrt_redundant_vias -effort medium
#@ 
#@ report_design_physical -route
#@ verify_zrt_route
#@ verify_lvs
#@ rc
#@ 
#@ source derive_pg.tcl
#@ derive_pg_connection -power_net VDD -power_pin VDD -ground_net VSS -ground_pin VSS
#@ #derive_pg_connection -power_net VDDO -power_pin VDDO -ground_net VSSO -ground_pin VSSO
#@ #derive_pg_connection -power_net VDDQ -power_pin VDDQ -ground_net VSSQ -ground_pin VSSQ
#@ derive_pg_connection -power_net VDD -ground_net VSS -tie
#@ # -- End source derive_pg.tcl

#@ 
#@ ########################################
#@ #            FINAL DESIGN CHECKS       #
#@ ########################################
#@ verify_zrt_route
#@ verify_lvs
#@ rc
#@ 
#@ ########################################
#@ #       SAVE DESIGN AND STREAM OUT     #
#@ ########################################
#@ save_mw_cel -as 6_2_chip_finish_final
#@ # GUI Debug: Building dc for netlist invalid. -- Time: 3sec 179ms

#@ set_write_stream_options -child_depth 200
#@ write_stream -cells 6_2_chip_finish_final ../outputs/fft_chip.gdsii
#@ write_verilog -no_corner_pad_cells ../outputs/fft_chip.v
#@ close_mw_cel
#@ close_mw_lib
#@ 
#@ exit
